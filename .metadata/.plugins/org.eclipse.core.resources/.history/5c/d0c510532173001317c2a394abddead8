package com.postcode.gui;

import java.awt.BorderLayout;
import java.awt.Container;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.table.AbstractTableModel;

import com.secondhandcommon.items.reader.ItemFinder;

public class PostCode  extends JFrame{

	ItemFinder finder;
	
	public PostCode()
	{
		super("PLZOverview");
		setSize(800, 800);
		setLocation(200, 50);
		addComponentsToPane(getContentPane());
		pack();
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setVisible(true);
		
		finder = new ItemFinder();
	}

	private void addComponentsToPane(Container pane) {
		JLabel title = new JLabel("Flohmarkt");
		pane.add(title, BorderLayout.NORTH);
		
	}
	
	class PLZTableModel extends AbstractTableModel {
		private List<String> columnNames = new ArrayList<String>(Arrays.asList(
				"PLZ", "Anzahl"));

		private Map<String, String> data = finder.getAllPostCodes();

		public List<Object> getData() {
			return data;
		}
		
		public List<Object> getColumnData(int col) {
			List<Object> columnData = new ArrayList<Object>();
			for (int i = 0; i < data.size(); i++) {
				Object[] row = (Object[]) data.get(i);
				columnData.add(row[col]);
			}

			return columnData;
		}
		
		
		@Override
		public int getColumnCount() {
			return columnNames.size();
		}

		@Override
		public int getRowCount() {
			return data.size();
		}

		@Override
		public Object getValueAt(int row, int col) {
			Object[] itemrow = (Object[]) data.get(row);

			return itemrow[col];
		}
	}
}
